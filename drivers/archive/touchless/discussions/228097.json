[
  {
    "Id": "496806",
    "ThreadId": "228097",
    "Html": "<p>Hello, dudes, im trying work with Touchless and XNA, but i got a &quot;liitle problem&quot; i think. When start the capture imagem with webcan in XNA little time after starting the capture the capture become slow until stop and not update the imagem, following the code:</p>\r\n<p>&nbsp;</p>\r\n<p><span style=\"font-size:x-small\"><span style=\"font-size:x-small\">\r\n<p>&nbsp;</p>\r\n</span><span style=\"color:#0000ff;font-size:x-small\"><span style=\"color:#0000ff;font-size:x-small\">private</span></span><span style=\"font-size:x-small\"> </span><span style=\"color:#2b91af;font-size:x-small\"><span style=\"color:#2b91af;font-size:x-small\">Texture2D</span></span><span style=\"font-size:x-small\"> TextureFromBitmap(System.Drawing.</span><span style=\"color:#2b91af;font-size:x-small\"><span style=\"color:#2b91af;font-size:x-small\">Bitmap</span></span><span style=\"font-size:x-small\"> bitmap)</span></span><span style=\"font-size:x-small\">\r\n<p>{</p>\r\n<span style=\"font-size:x-small\">\r\n<p>&nbsp;</p>\r\n</span><span style=\"color:#2b91af;font-size:x-small\"><span style=\"color:#2b91af;font-size:x-small\">Texture2D</span></span><span style=\"font-size:x-small\"> tex = </span><span style=\"color:#0000ff;font-size:x-small\"><span style=\"color:#0000ff;font-size:x-small\">new</span></span><span style=\"font-size:x-small\"> </span><span style=\"color:#2b91af;font-size:x-small\"><span style=\"color:#2b91af;font-size:x-small\">Texture2D</span></span><span style=\"font-size:x-small\">(grcTela.GraphicsDevice, bitmap.Width, bitmap.Height, 1, </span><span style=\"color:#2b91af;font-size:x-small\"><span style=\"color:#2b91af;font-size:x-small\">TextureUsage</span></span><span style=\"font-size:x-small\">.None, </span><span style=\"color:#2b91af;font-size:x-small\"><span style=\"color:#2b91af;font-size:x-small\">SurfaceFormat</span></span><span style=\"font-size:x-small\">.Color);</span></span><span style=\"font-size:x-small\"><span style=\"font-size:x-small\">\r\n<p>&nbsp;</p>\r\n</span><span style=\"color:#2b91af;font-size:x-small\"><span style=\"color:#2b91af;font-size:x-small\">BitmapData</span></span><span style=\"font-size:x-small\"> data = bitmap.LockBits(</span><span style=\"color:#0000ff;font-size:x-small\"><span style=\"color:#0000ff;font-size:x-small\">new</span></span><span style=\"font-size:x-small\"> System.Drawing.</span><span style=\"color:#2b91af;font-size:x-small\"><span style=\"color:#2b91af;font-size:x-small\">Rectangle</span></span><span style=\"font-size:x-small\">(0, 0, bitmap.Width, bitmap.Height), System.Drawing.Imaging.</span><span style=\"color:#2b91af;font-size:x-small\"><span style=\"color:#2b91af;font-size:x-small\">ImageLockMode</span></span><span style=\"font-size:x-small\">.ReadOnly, bitmap.PixelFormat);</span></span><span style=\"font-size:x-small\"><span style=\"font-size:x-small\">\r\n<p>&nbsp;</p>\r\n</span><span style=\"color:#0000ff;font-size:x-small\"><span style=\"color:#0000ff;font-size:x-small\">int</span></span><span style=\"font-size:x-small\"> bufferSize = data.Height * data.Stride;</span></span><span style=\"font-size:x-small\"><span style=\"font-size:x-small\">\r\n<p>&nbsp;</p>\r\n</span><span style=\"color:#0000ff;font-size:x-small\"><span style=\"color:#0000ff;font-size:x-small\">byte</span></span><span style=\"font-size:x-small\">[] bytes = </span><span style=\"color:#0000ff;font-size:x-small\"><span style=\"color:#0000ff;font-size:x-small\">new</span></span><span style=\"font-size:x-small\"> </span><span style=\"color:#0000ff;font-size:x-small\"><span style=\"color:#0000ff;font-size:x-small\">byte</span></span><span style=\"font-size:x-small\">[bufferSize];</span></span><span style=\"font-size:x-small\"><span style=\"font-size:x-small\">\r\n<p>&nbsp;</p>\r\n</span><span style=\"color:#2b91af;font-size:x-small\"><span style=\"color:#2b91af;font-size:x-small\">Marshal</span></span><span style=\"font-size:x-small\">.Copy(data.Scan0, bytes, 0, bytes.Length);</span></span><span style=\"font-size:x-small\">\r\n<p>tex.SetData(bytes);</p>\r\n<p>bitmap.UnlockBits(data);</p>\r\n<span style=\"font-size:x-small\">\r\n<p>&nbsp;</p>\r\n</span><span style=\"color:#0000ff;font-size:x-small\"><span style=\"color:#0000ff;font-size:x-small\">return</span></span><span style=\"font-size:x-small\"> tex;</span></span><span style=\"font-size:x-small\"> </span>\r\n<p>sameone could help? i pass the marker position to XNA<span style=\"font-size:x-small\">\r\n<p>capturaImg.AdicionarMarker(ms.X, ms.Y);</p>\r\n</span></p>\r\n</p>\r\n<p>}</p>",
    "PostedDate": "2010-09-21T21:04:21.82-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]