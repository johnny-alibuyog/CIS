[
  {
    "Id": "221068",
    "ThreadId": "64924",
    "Html": "<p>Hello @all,</p>\r\n<p>at first excuse my bad english :-)</p>\r\n<p>I tried the touchless SDK and have some problems.</p>\r\n<p>I got the picture from my webcam and want to set a marker and that the touchless recognizes the &quot;marker&quot;. So I used the addmarker function. But everything I tried, it doen&acute;t work well. My marked area in the picture will not be recognized. Sometimes it recognizes the whole picture (not my marker) and I see the rectangle. What I&acute;m doing wrong?</p>\r\n<p>&nbsp;</p>\r\n<p>Below is my code:</p>\r\n<p><br>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre><span style=\"color:Blue\">Public</span> <span style=\"color:Blue\">Class</span> Form1\r\n    <span style=\"color:Blue\">Dim</span> Touchless1 <span style=\"color:Blue\">As</span> <span style=\"color:Blue\">New</span> TouchlessLib.TouchlessMgr\r\n    <span style=\"color:Blue\">Dim</span> player <span style=\"color:Blue\">As</span> <span style=\"color:Blue\">String</span> = <span style=\"color:#A31515\">&quot;Player1&quot;</span>\r\n\r\n    <span style=\"color:Blue\">Private</span> <span style=\"color:Blue\">Sub</span> Form1_Load(<span style=\"color:Blue\">ByVal</span> sender <span style=\"color:Blue\">As</span> System.Object, <span style=\"color:Blue\">ByVal</span> e <span style=\"color:Blue\">As</span> System.EventArgs) <span style=\"color:Blue\">Handles</span> <span style=\"color:Blue\">MyBase</span>.Load\r\n        SetStyle(ControlStyles.UserPaint, <span style=\"color:Blue\">True</span>)\r\n        SetStyle(ControlStyles.AllPaintingInWmPaint, <span style=\"color:Blue\">True</span>)\r\n        SetStyle(ControlStyles.DoubleBuffer, <span style=\"color:Blue\">True</span>)\r\n        <span style=\"color:Blue\">Me</span>.UpdateStyles()\r\n        <span style=\"color:Blue\">If</span> Touchless1.Cameras.<span style=\"color:Blue\">Count</span> = 0 <span style=\"color:Blue\">Then</span> MessageBox.Show(<span style=\"color:#A31515\">&quot;This application needs a webcam&quot;</span>) : <span style=\"color:Blue\">Return</span>\r\n        Touchless1.CurrentCamera = Touchless1.Cameras.First\r\n        <span style=\"color:Blue\">AddHandler</span> Touchless1.CurrentCamera.OnImageCaptured, <span style=\"color:Blue\">AddressOf</span> Form1_Capture\r\n        Touchless1.CurrentCamera.ShowPropertiesDialog(<span style=\"color:Blue\">Me</span>.Handle)\r\n    <span style=\"color:Blue\">End</span> <span style=\"color:Blue\">Sub</span>\r\n\r\n    <span style=\"color:Blue\">Private</span> <span style=\"color:Blue\">Sub</span> Form1_Capture()\r\n        <span style=\"color:Green\">'Me.BeginInvoke(New EventHandler(AddressOf Me.Invalidate))</span>\r\n        Invalidate()\r\n    <span style=\"color:Blue\">End</span> <span style=\"color:Blue\">Sub</span>\r\n\r\n    <span style=\"color:Blue\">Private</span> <span style=\"color:Blue\">Sub</span> Form1_MouseClick(<span style=\"color:Blue\">ByVal</span> sender <span style=\"color:Blue\">As</span> <span style=\"color:Blue\">Object</span>, <span style=\"color:Blue\">ByVal</span> e <span style=\"color:Blue\">As</span> System.Windows.Forms.MouseEventArgs) <span style=\"color:Blue\">Handles</span> <span style=\"color:Blue\">Me</span>.MouseClick\r\n        <span style=\"color:Blue\">Dim</span> g <span style=\"color:Blue\">As</span> Graphics = CreateGraphics()\r\n        <span style=\"color:Blue\">Dim</span> p <span style=\"color:Blue\">As</span> <span style=\"color:Blue\">New</span> Pen(Color.Red)\r\n        <span style=\"color:Blue\">Dim</span> Mouseposition <span style=\"color:Blue\">As</span> <span style=\"color:Blue\">New</span> Point\r\n        Mouseposition.X = e.X - 20\r\n        Mouseposition.Y = e.Y - 20\r\n        g.DrawEllipse(p, Mouseposition.X, Mouseposition.Y, 40, 40)\r\n\r\n        Touchless1.AddMarker(player, Touchless1.CurrentCamera.GetCurrentImage, Mouseposition, 40)\r\n        MessageBox.Show(Touchless1.Markers.ToString)\r\n        Touchless1.Markers(0).Highlight = <span style=\"color:Blue\">True</span>\r\n        Touchless1.Markers(0).Threshold = 4\r\n    <span style=\"color:Blue\">End</span> <span style=\"color:Blue\">Sub</span>\r\n\r\n    <span style=\"color:Blue\">Private</span> <span style=\"color:Blue\">Sub</span> Form1_Paint(<span style=\"color:Blue\">ByVal</span> sender <span style=\"color:Blue\">As</span> System.Object, <span style=\"color:Blue\">ByVal</span> e <span style=\"color:Blue\">As</span> System.Windows.Forms.PaintEventArgs) <span style=\"color:Blue\">Handles</span> <span style=\"color:Blue\">MyBase</span>.Paint\r\n        <span style=\"color:Blue\">Dim</span> b = Touchless1.CurrentCamera.GetCurrentImage\r\n        <span style=\"color:Blue\">If</span> b <span style=\"color:Blue\">IsNot</span> <span style=\"color:Blue\">Nothing</span> <span style=\"color:Blue\">Then</span> e.Graphics.DrawImage(b, 0, 0, Width, Height)\r\n    <span style=\"color:Blue\">End</span> <span style=\"color:Blue\">Sub</span>\r\n\r\n\r\n<span style=\"color:Blue\">End</span> <span style=\"color:Blue\">Class</span>\r\n\r\n</pre>\r\n</div>\r\n</p>",
    "PostedDate": "2009-08-08T04:39:22.377-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]